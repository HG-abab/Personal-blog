## ä¸€ã€ğŸ˜† forå¾ªç¯å’ŒforEachå¯¹æ¯”

> æµ‹è¯•forä¸forEachåœ¨éå†ç›¸åŒè¶³å¤Ÿå¤§çš„æ•°æ®æ—¶æ‰€æ¶ˆè€—çš„æ—¶é—´

#### 1. for

```language
<script>
  let arrs = [...Array(999999).keys()]
  let total = 0
  let startTime = Date.now()
  for (let i = 0; i < arrs.length; i++) {
    total += i
  }
  let endTime = Date.now()
  let countTime = endTime - startTime
  console.log(total, Date.now() - startTime)
</script>
1. ç»“æœï¼š
499998500001 9
```

#### 2. forEach

```language
<script>
  let arrs = [...Array(999999).keys()]
  let total = 0
  let startTime = Date.now()
  arrs.forEach(i => {
    total += i
  })
  let endTime = Date.now()
  let countTime = endTime - startTime
  console.log(total, Date.now() - startTime)
</script>
ç»“æœï¼š
499998500001 13
```

### forä¸forEachæ³¨æ„äº‹ä»¶

> åœ¨forä¸­å¯ä»¥é€šè¿‡æ¡ä»¶åˆ¤æ–­åbreakè·³å‡ºç»“æŸï¼Œè€ŒforEachä¸­ä¸èƒ½ï¼ŒforEachä¼šæ‰§è¡Œå®Œæ‰ç»“æŸ

#### 1. for

```language
<script>
  let arrs = [...Array(999999).keys()]
  let total = 0
  let startTime = Date.now()
  for (let i = 0; i < arrs.length; i++) {
    if (i === 10) break;
    total += i
  }
  let endTime = Date.now()
  let countTime = endTime - startTime
  console.log(total, Date.now() - startTime)
</script>
1. ç»“æœï¼š
45 0
```

#### 2. forEach

```language
<script>
  let arrs = [...Array(999999).keys()]
  let total = 0
  let startTime = Date.now()
  arrs.forEach(i => {
    if (i == 10) return;
    total += i
  })
  let endTime = Date.now()
  let countTime = endTime - startTime
  console.log(total, Date.now() - startTime)
</script>
ç»“æœï¼š
499998499991 13
```

### ç»“è®º

> å¦‚æœif(item===10) return;ç±»ä¼¼äºcontinueåªä¼šç»“æŸå½“æ¬¡å¾ªç¯ï¼Œåé¢çš„11ã€12â€¦ä¼šç»§ç»­++ï¼Œæ‰€ä»¥æ¶ˆè€—çš„è®¡æ•°ä¼šç»§ç»­ç´¯åŠ ï¼Œå¾ªç¯æ¬¡æ•°ç»§ç»­å…¨éƒ¨å®Œæˆï¼Œè¿™æ ·å†™ä¸ä¼šèŠ‚çœæ—¶é—´ï¼›
>
> å¦‚æœif(item>10) return; å¯ä»¥è®©10åé¢æ‰€æœ‰çš„è®¡ç®—å…¨éƒ¨é€€å‡ºï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†è¿›è¡Œè®¡æ•°äº†ï¼Œæœ€ç»ˆçš„ç»“æœè‚¯å®šæ˜¯10ä¹‹å‰çš„è®¡æ•°ï¼Œreturnåé¢æ‰€æœ‰çš„ç´¯è®¡ä¸è®¡ç®—äº†ï¼Œæ‰€ä»¥èŠ‚çœäº†æ•´ä¸ªçš„è®¡ç®—æ—¶é—´

## äºŒã€ğŸ¤”map()æ–¹æ³•

> map() æ–¹æ³•æ˜¯æ•°ç»„åŸå‹çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹æ•°ç»„éå†ä¸ç ´ååŸæ•°ç»„ï¼Œå°†ä¼šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ŒæŒ‰ç…§åŸå§‹æ•°ç»„å…ƒç´ é¡ºåºä¾æ¬¡æ‰§è¡Œç»™å®šçš„å‡½æ•°ï¼Œmapæ–¹æ³•éå¸¸é€‚åˆç”¨äºå¤„ç†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¹¶ç”Ÿæˆæ–°çš„æ•°ç»„ã€‚

### ç”¨æ³•

#### 1. å°†æ•°ç»„å†…æ¯ä¸ªå…ƒç´ Ã—2åï¼Œè·å–æ–°æ•°ç»„

```language
let arrs = [1,2,3,4];
let newArrs = arrs.map(item=>item*2);
console.log(newArrs);
// [2, 4, 6, 8]
```

#### 2. å°†æ•°ç»„å¯¹è±¡å†…æ¯ä¸ªå…ƒç´ çš„åç§°æ‹¿å‡ºæ¥ï¼Œä½œä¸ºä¸€ä¸ªæ–°æ•°ç»„

```language
let arrs = [
    {name: "æ¦´è²", price: 1111},
    {name: "è‹¹æœ", price: 22222},
    {name: "é¦™è•‰", price: 3333}
  ]
  let newArrs = arrs.map(item => item.name);
  console.log(newArrs);

  // ['æ¦´è²', 'è‹¹æœ', 'é¦™è•‰']
```

#### 3. å°†åŸæ•°ç»„ä¸­å±æ€§è¿›è¡Œæ›´æ¢ï¼Œé…åˆå¯¹è±¡è§£æ„ï¼Œå¯ä»¥æ›´ç›´è§‚

```language
  let arrs = [
    {key: 0, content: "ç¯®çƒ"},
    {key: 1, content: "è¶³çƒ"},
    {key: 2, content: "æ’çƒ"}
  ];
  let newArrs = arrs.map(({key, content}) => (
    {
      value: key,
      text: content
    }
  ));
  console.log(newArrs);

// [
{value: 0, text: 'ç¯®çƒ'},
{value: 1, text: 'è¶³çƒ'},
{value: 2, text: 'æ’çƒ'}
]
```

#### 4. å°†å¼‚æ­¥è¯·æ±‚mapåˆ°æ–°æ•°ç»„ä¸­ï¼Œä½¿ç”¨Promise.allåŒæ—¶å¤„ç†å¤šä¸ªPromise

##### 1. forè¯·æ±‚æ—¶

```language
<script>
  async function fetchData() {
    let arrs = Array.from({length: 3}, (_, index) => index + 1);
    let datas = [];
    for (let i = 0; i < arrs.length; i++) {
      try {
        const response = await axios.get("http://jsonplaceholder.typicode.com/posts/" + arrs[i]);
        datas.push(response.data);  // ä½¿ç”¨ response.data æ¥è·å–è¿”å›çš„ JSON æ•°æ®
      } catch (error) {
        console.error("è¯·æ±‚å¤±è´¥ï¼š", error);
      }
    }
    console.log(datas);
  }
  fetchData();

  // è¾“å‡º: [{...}, {...}, {...}]
</script>
```

![](https://pic.imgdb.cn/item/67618283d0e0a243d4e58672.png)

> ä½¿ç”¨forå¾ªç¯çš„æ—¶å€™èƒ½æ»¡è¶³éœ€æ±‚ï¼Œä½†ä¼šæ‰§è¡Œå®Œç¬¬ä¸€ä¸ªåœ¨æ‰§è¡Œç¬¬äºŒä¸ªï¼Œæ€§èƒ½ä½æ—¶é—´åŠ è½½æ…¢

#### 5. ä¸‹é¢è¿™ä¸ªåˆ©ç”¨mapï¼Œè§£å†³forå¾ªç¯å¼‚æ­¥åŒæ­¥åŒ–æ€§èƒ½æ¶ˆè€—è¿‡å¤§çš„é—®é¢˜ã€‚

```language
<script>
  let arrs = Array.from({length: 3}, (_, index) => index + 1);
  let datas = [];
  const promise = arrs.map(async (item) => {
    try {
      const response = await axios.get("http://jsonplaceholder.typicode.com/posts/" + item);
      datas.push(response.data);  // ä½¿ç”¨ response.data æ¥è·å–è¿”å›çš„ JSON æ•°æ®
    } catch (error) {
      console.error("è¯·æ±‚å¤±è´¥ï¼š", error);
    }
  })
  console.log(datas);
</script>
```

![](https://pic.imgdb.cn/item/67618300d0e0a243d4e586a6.png)

### ç»“è®º

> ä¸‰ä¸ªç½‘ç»œè¯·æ±‚åŒæ—¶å‘å¸ƒï¼Œæ—¶é—´æ¶ˆè€—ç›¸è¾ƒäºforè¯·æ±‚æ›´å¿«

## ä¸‰ã€ğŸ˜¤filter()æ–¹æ³•

> filter()è¿‡æ»¤æ–¹æ³•ï¼Œä¼šå¯¹åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åº”ç”¨æŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚åŸæ•°ç»„ä¸ä¼šå—åˆ°å½±å“ã€‚

### ç”¨æ³•

> åœ¨filterå›è°ƒå‡½æ•°ä¸­ï¼Œæ»¡è¶³trueå³å¯è¢«å¤„ç†åˆ°æ–°å‡½æ•°ä¸­ï¼Œfalseä¸åšå¤„ç†ã€‚

#### 1. æ‰¾å‡ºæ•°ç»„ä¸­å¤§äº10çš„æ•°æ®æ”¾åˆ°æ–°æ•°ç»„ä¸­

```language
let arrs = [5,7,8,15,22,1,2];
let newArrs = arrs.filter(item=>{
    return item>10
})
console.log(newArrs);

// [15,22]

//å¦‚æœæ˜¯æ•°ç»„å¯¹è±¡çš„è¯ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªéœ€è¦æ‰¾åˆ°æ»¡è¶³çš„å¯¹è±¡å±æ€§å³å¯ï¼Œæ¯”å¦‚æ‰¾åˆ°æ•°ç»„å¯¹è±¡ä¸­ï¼Œå¹´é¾„å°äº30å²çš„æ•°æ®ï¼š
let arrs = [
    {name:"å¼ ä¸‰",age:16},
    {name:"æå››",age:40},
    {name:"ç‹äº”",age:28},
    {name:"æ±¤å§†",age:20}
];
let newArrs = arrs.filter(item=>{
    return item.age<30
})
console.log(newArrs);

//[{name:"å¼ ä¸‰",age:16},...]
```

#### 2. æ•°ç»„å»é‡ï¼Œç»“åˆindexOfæ–¹æ³•

```language
let arrs = [6,1,2,3,5,3,6];
let newArrs = arrs.filter((item,index,self)=>{
    return self.indexOf(item) === index
})
console.log(newArrs);

// [6, 1, 2, 3, 5]
```

#### 3. æ•°ç»„å¯¹è±¡ä¸­è¿‡æ»¤æ‰æ— ç”¨æ•°æ®

```language
let arrs = [
    {id:1,name:"HTML5"},
    {id:2,name:"JavaScript"},
    {id:null,name:"å°ç¨‹åº"},
    {name:"NodeJS"},
    {id:3,name:"VueJS"}
];
let newArrs = arrs.filter(item=>{
    return item.id
})
console.log(newArrs);

// [ {id: 1, name: 'HTML5'},...]
```

#### 4. filterå’Œmapç»„åˆä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨é“¾å¼å†™æ³•ï¼›é¦–å…ˆå»é™¤æ— ç”¨æ•°æ®ï¼Œç„¶åç»™æ¯ä¸€æ¡å¢åŠ ä¸€ä¸ªå±æ€§

```language
let arrs = [
    {id:1,name:"HTML5"},
    {id:2,name:"JavaScript"},
    {id:null,name:"å°ç¨‹åº"},
    {name:"NodeJS"},
    {id:3,name:"VueJS"}
];
let newArrs = arrs.filter(item=>{
    return item.id
}).map(item=>{
    return {
        ...item,
        ababab:"123"
    }
})
console.log(newArrs);

// [{id: 1, name: 'HTML5', ababab: '123'},...]
```

## å››ã€ğŸ˜£reduce()æ–¹æ³•

> reduce() æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ‰åºæ‰§è¡Œä¸€ä¸ªæŒ‡å®šæ–¹æ³•ï¼Œæ¯ä¸€æ¬¡è¿è¡Œ reducer ä¼šå°†å…ˆå‰å…ƒç´ çš„è®¡ç®—ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ã€‚

### å‚æ•°

```language
- prevï¼ˆå¿…å¡«ï¼‰ï¼Œä¸Šä¸€æ¬¡è°ƒç”¨ callbackFn çš„ç»“æœã€‚
- currentï¼ˆå¿…å¡«ï¼‰ï¼Œå½“å‰å…ƒç´ çš„å€¼ã€‚
- indexï¼ˆå¯é€‰ï¼‰ï¼Œcurrent åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ã€‚
- arrayï¼ˆå¯é€‰ï¼‰ï¼Œè°ƒç”¨äº†reduce() çš„æ•°ç»„æœ¬èº«
```

### ç”¨æ³•

#### 1. æ•°ç»„æ±‚å’Œ / æ±‚ç§¯

```language
let arrs = [1, 2, 3, 4];
  let result = arrs.reduce((prev, current, index) => {
    console.log(prev, current, index);
    return prev + current;
  })
  console.log("æœ€ç»ˆç»“æœ:" + result);
```

![](https://pic.imgdb.cn/item/67618336d0e0a243d4e586ae.png)

#### 2. æ±‚æœ€å¤§å€¼/æœ€å°å€¼

```language
let arrs = [5, 6, 1, 22, 3, 7];
  let result = arrs.reduce((prev, current, index) => {
    console.log(prev, current, index);
    return Math.max(prev, current);
  }, 0)
  console.log(result);

  //22
```

#### 3. å¯¹æ•°ç»„å¯¹è±¡å¤„ç†

```language
<script>
  let arrs = [
    {name: "å¼ ä¸‰", age: 29},
    {name: "æå››", age: 16},
    {name: "ç‹äº”", age: 50},
    {name: "å°æ˜", age: 21}
  ];
  let result = arrs.reduce((prev, current, index) => {
    return prev + current.age
  }, 0)
  console.log(result);

  // 116
</script>
```

## äº”ã€ğŸ¥¸every()æ–¹æ³•

> åˆ¤æ–­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³å‡½æ•°ä¸­ç»™å®šçš„æ¡ä»¶ï¼Œå…¨éƒ¨æ»¡è¶³è¿”å›true,åªè¦æœ‰ä¸€é¡¹ä¸æ»¡è¶³åˆ™è¿”å›falseã€‚

### ç”¨æ³•

#### 1. æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³ç‰¹å®šæ¡ä»¶

```language
let arrs = [1, 2, 3, 4, 5];
let result = arrs.every(num => num > 0);
console.log(result);

//true
```

#### 2. æ£€æµ‹æ•°ç»„å¯¹è±¡ä¸­ï¼Œæ˜¯å¦æ‰€æœ‰å•†å“éƒ½æœ‰åº“å­˜

```language
<script>
  let arrs = [
    {name: "åä¸º", price: 5899, stock: true},
    {name: "è‹¹æœ", price: 9999, stock: false},
    {name: "å°ç±³", price: 4399, stock: true},
    {name: "çº¢ç±³", price: 899, stock: true}
  ];
  let result = arrs.every(item => item.stock);
  console.log(result);
  // false
</script>
```

## å…­ã€ğŸ¥³some()æ–¹æ³•

> someæ–¹æ³•å’Œeveryæ–¹æ³•åŸºæœ¬ç±»ä¼¼ï¼Œåªæ˜¯someæ–¹æ³•æ£€æµ‹æ•°ç»„ä¸­ï¼Œåªè¦æœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶å³è¿”å›trueï¼Œå…¨éƒ¨ä¸æ»¡è¶³æ¡ä»¶æ‰ä¼šè¿”å›falseã€‚

### ç”¨æ³•

#### 1. æ£€æŸ¥æ•°ç»„ä¸­çš„æ˜¯å¦æœ‰æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ 

```language
let arrs = [55,26,3,12,39];
let result  = arrs.some(item=>item<10);
console.log(result);
// true
```

#### 2. æ£€æŸ¥æ•°ç»„å¯¹è±¡ä¸­ï¼Œæ˜¯å¦æœ‰æ»¡è¶³priceå°äº1000çš„å…ƒç´ ï¼Œå¹¶ä¸”æœ‰stockåº“å­˜

```language
 let arrs = [
    {name: "åä¸º", price: 5899, stock: true},
    {name: "è‹¹æœ", price: 9999, stock: false},
    {name: "å°ç±³", price: 4399, stock: true},
    {name: "çº¢ç±³", price: 899, stock: true}
  ];
  let result = arrs.some(item => item.price < 1000 && item.stock);
  console.log(result);
  // true
```

## ä¸ƒã€ğŸ¤¬includes()æ–¹æ³•

> includes() æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚

### æ³¨æ„

> includes() æ–¹æ³•åªèƒ½ç”¨äºæ£€æµ‹åŸºç¡€æ•°æ®ç±»å‹ï¼ˆå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œè€Œä¸èƒ½ç”¨äºæ£€æµ‹åŒ…å«å¯¹è±¡æˆ–å…¶ä»–æ•°ç»„çš„äºŒç»´æ•°ç»„ã€‚å¦‚æœéœ€è¦æ£€æµ‹å¯¹è±¡æˆ–å…¶ä»–å¤æ‚æ•°æ®ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹æ³•æˆ–è‡ªå®šä¹‰å‡½æ•°æ¥å®ç°ã€‚

### ç”¨æ³•

#### 1. åŸºç¡€ç”¨æ³•

```language
const arrs = [1, 2, 3];
console.log(arrs.includes(2));

// true
```

#### 2. everyå’Œincludesé…åˆï¼Œæ£€æµ‹ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªæ•°ç»„

```language
let arrs1 = [1,2,3,4,5,6,7];
let arrs2 = [2,5,7];
let arrs3 = [1,6,9];
let result1 = arrs2.every(item=>arrs1.includes(item));
let result2 = arrs3.every(item=>arrs1.includes(item));
console.log(result1);   // true
console.log(result2);  // false
```

## å…«ã€ğŸ¥¸find()æ–¹æ³•

> find() æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å›

### ç”¨æ³•

#### 1. åœ¨å¯¹è±¡æ•°ç»„ä¸­é€šè¿‡å¯¹è±¡å±æ€§è¿›è¡ŒæŸ¥æ‰¾

```language
const inventory = [
  { name: "apples", quantity: 2 },
  { name: "bananas", quantity: 0 },
  { name: "cherries", quantity: 5 },
];

function isCherries(fruit) {
  return fruit.name === "cherries";
}

console.log(inventory.find(isCherries));
// { name: 'cherries', quantity: 5 }
```

#### 2. å¯»æ‰¾æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´ æ•°

```language
function isPrime(element, index, array) {
  let start = 2;
  while (start <= Math.sqrt(element)) {
    if (element % start++ < 1) {
      return false;
    }
  }
  return element > 1;
}
console.log([4, 6, 8, 12].find(isPrime)); // undefinedï¼Œæœªæ‰¾åˆ°
console.log([4, 5, 8, 12].find(isPrime)); // 5
```

## ä¹ã€ğŸ˜–findIndex()æ–¹æ³•

> findIndex() æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚è‹¥æ²¡æœ‰æ‰¾åˆ°å¯¹åº”å…ƒç´ åˆ™è¿”å› -1ã€‚

### ç”¨æ³•

#### 1. å¯»æ‰¾æ•°ç»„ä¸­çš„é¦–ä¸ªç´ æ•°çš„ç´¢å¼•

```language
function isPrime(element) {
  if (element % 2 === 0 || element < 2) {
    return false;
  }
  for (let factor = 3; factor <= Math.sqrt(element); factor += 2) {
    if (element % factor === 0) {
      return false;
    }
  }
  return true;
}

console.log([4, 6, 8, 9, 12].findIndex(isPrime)); // -1ï¼Œæ²¡æœ‰æ‰¾åˆ°
console.log([4, 6, 7, 9, 12].findIndex(isPrime)); // 2ï¼ˆarray[2] æ˜¯ 7ï¼‰

```

## åã€ğŸ˜šfindLast()æ–¹æ³•

> findLast() æ–¹æ³•åå‘è¿­ä»£æ•°ç»„ï¼Œå¹¶è¿”å›æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œåˆ™è¿”å› undefinedã€‚
